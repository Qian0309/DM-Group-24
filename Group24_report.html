<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Group 24">

<title>IB9HP0 Data Management</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Group24_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="Group24_report_files/libs/quarto-html/quarto.js"></script>
<script src="Group24_report_files/libs/quarto-html/popper.min.js"></script>
<script src="Group24_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Group24_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="Group24_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Group24_report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Group24_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Group24_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Group24_report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">IB9HP0 Data Management</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Group 24 </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>In this project, we developed a UK-based e-commerce database for IT products, without international shipping. The project unfolds in four stages, each enhancing our platform’s development and comprehension.</p>
</section>
<section id="database-design-and-implementation" class="level1">
<h1>1: Database Design and Implementation</h1>
<section id="e-r-diagram-design-and-relationship-sets" class="level2">
<h2 class="anchored" data-anchor-id="e-r-diagram-design-and-relationship-sets">1.1: E-R Diagram Design and Relationship Sets</h2>
<p>The platform adheres to an annual promotion policy and uses a “Product_ID” system based on “Supplier_ID,” limiting suppliers to a unique ID per product. It also handles payment collection and subsequent distribution to suppliers. It involves 7 entities.</p>
<ol type="1">
<li><p>Buyer: Customers creating accouns to order on the platform.</p></li>
<li><p>Supplier: Sellers registering to list products.</p></li>
<li><p>Product: Available products for purchase.</p></li>
<li><p>Transaction: Customers’ product orders.</p></li>
<li><p>Promotion: Product discounts to entice customers.</p></li>
<li><p>Shipper: Shipper information.</p></li>
<li><p>Reviews: Customer feedback post-product receipt.</p></li>
</ol>
<p>The E-R diagram below illustrates the e-commerce database pre-normalisation.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\ERD\ERD_before_normalization.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="sql-database-schema-creation" class="level2">
<h2 class="anchored" data-anchor-id="sql-database-schema-creation">1.2: SQL Database Schema Creation</h2>
<p>The conceptual schema outlined in Section 1.1 is converted into a logical schema after normalisation, using the following steps:</p>
<ul>
<li><p>1NF: Multi-valued attributes include ‘Buyer_Address’,‘Supplier_Address’, and ‘Dimensions’ in the Product entity that must be normalised. An Address table with ‘address_id’, ‘house_number’, ‘house_name’, ‘street’, ‘city’, ‘county’, and ‘post_code’ is introduced. This table connects to Buyer and Supplier entities through ‘address_id’ as a foreign key, establishing 1:1 relationships. A separate Dimensions entity is also created, linked to the Product entity with a 1:1 relationship.</p></li>
<li><p>2NF: The Product and Buyer entities have an M:N relationship, which violates 2NF due to functional dependencies where many products can be bought by a single buyer and vice versa, creating duplicate entries of the primary key attribute in each table. An ‘order_details’ table resolves this, by storing ‘product_id’ and ‘buyer_id’ as composite primary keys, with ‘order_id’ as its primary key.</p></li>
<li><p>3NF: The logical schema ensures attributes directly depend on their table’s primary key, with no transitive dependencies.</p></li>
</ul>
<section id="conceputual-e-r-diagram-of-the-database-after-normalisation" class="level3">
<h3 class="anchored" data-anchor-id="conceputual-e-r-diagram-of-the-database-after-normalisation">Conceputual E-R Diagram of the Database after Normalisation</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\ERD\ERD_after_normalization.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="logical-schema-of-the-database-after-normalisation" class="level3">
<h3 class="anchored" data-anchor-id="logical-schema-of-the-database-after-normalisation">Logical Schema of the Database after Normalisation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>product_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">product</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"product_id"</span>, <span class="st">"product_name"</span>, <span class="st">"product_description"</span>, <span class="st">"weight"</span>, <span class="st">"price"</span>, <span class="st">"promotion_id"</span>, <span class="st">"supplier_id"</span>, <span class="st">"dimension_id"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(product_table, <span class="at">caption =</span> <span class="st">"Logical Schema for Products"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Logical Schema for Products</caption>
<thead>
<tr class="header">
<th style="text-align: left;">product</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">product_id</td>
</tr>
<tr class="even">
<td style="text-align: left;">product_name</td>
</tr>
<tr class="odd">
<td style="text-align: left;">product_description</td>
</tr>
<tr class="even">
<td style="text-align: left;">weight</td>
</tr>
<tr class="odd">
<td style="text-align: left;">price</td>
</tr>
<tr class="even">
<td style="text-align: left;">promotion_id</td>
</tr>
<tr class="odd">
<td style="text-align: left;">supplier_id</td>
</tr>
<tr class="even">
<td style="text-align: left;">dimension_id</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>promotion_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Promotion</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"promotion_id"</span>, <span class="st">"promotion_type"</span>, <span class="st">"start_date"</span>, <span class="st">"end_date"</span>, <span class="st">"status"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(promotion_table, <span class="at">caption =</span> <span class="st">"Logical Schema for Promotion"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Logical Schema for Promotion</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Promotion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">promotion_id</td>
</tr>
<tr class="even">
<td style="text-align: left;">promotion_type</td>
</tr>
<tr class="odd">
<td style="text-align: left;">start_date</td>
</tr>
<tr class="even">
<td style="text-align: left;">end_date</td>
</tr>
<tr class="odd">
<td style="text-align: left;">status</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>buyer_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Buyer</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"buyer_id"</span>, <span class="st">"first_name"</span>, <span class="st">"last_name"</span>, <span class="st">"date_of_birth"</span>, <span class="st">"address_id"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(buyer_table, <span class="at">caption =</span> <span class="st">"Logical Schema for Buyer"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Logical Schema for Buyer</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Buyer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">buyer_id</td>
</tr>
<tr class="even">
<td style="text-align: left;">first_name</td>
</tr>
<tr class="odd">
<td style="text-align: left;">last_name</td>
</tr>
<tr class="even">
<td style="text-align: left;">date_of_birth</td>
</tr>
<tr class="odd">
<td style="text-align: left;">address_id</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>supplier_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Supplier</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Supplier_ID"</span>, <span class="st">"Supplier_Name"</span>, <span class="st">"Supplier_Type"</span>, <span class="st">"Contract_Type"</span>, <span class="st">"Number_of_year_of_association"</span>, <span class="st">"address_id"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(supplier_table, <span class="at">caption =</span> <span class="st">"Logical Schema for Supplier"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Logical Schema for Supplier</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Supplier</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Supplier_ID</td>
</tr>
<tr class="even">
<td style="text-align: left;">Supplier_Name</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Supplier_Type</td>
</tr>
<tr class="even">
<td style="text-align: left;">Contract_Type</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number_of_year_of_association</td>
</tr>
<tr class="even">
<td style="text-align: left;">address_id</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>review_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Review</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"review_id"</span>, <span class="st">"review_score"</span>, <span class="st">"review_description"</span>, <span class="st">"product_id"</span>, <span class="st">"buyer_id"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(review_table, <span class="at">caption =</span> <span class="st">"Logical Schema for Review"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Logical Schema for Review</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Review</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">review_id</td>
</tr>
<tr class="even">
<td style="text-align: left;">review_score</td>
</tr>
<tr class="odd">
<td style="text-align: left;">review_description</td>
</tr>
<tr class="even">
<td style="text-align: left;">product_id</td>
</tr>
<tr class="odd">
<td style="text-align: left;">buyer_id</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>payment_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Payment</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"payment_id"</span>, <span class="st">"payment_type"</span>, <span class="st">"payment_amount"</span>, <span class="st">"installment_number"</span>, <span class="st">"order_id"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(payment_table, <span class="at">caption =</span> <span class="st">"Logical Schema for Payment"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Logical Schema for Payment</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Payment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">payment_id</td>
</tr>
<tr class="even">
<td style="text-align: left;">payment_type</td>
</tr>
<tr class="odd">
<td style="text-align: left;">payment_amount</td>
</tr>
<tr class="even">
<td style="text-align: left;">installment_number</td>
</tr>
<tr class="odd">
<td style="text-align: left;">order_id</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>shipper_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Shipper</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Shipper_ID"</span>, <span class="st">"Shipper_Name"</span>, <span class="st">"Service"</span>, <span class="st">"Fixed Price"</span>, <span class="st">"Cost_per_mile"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(shipper_table, <span class="at">caption =</span> <span class="st">"Logical Schema for Shipper"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Logical Schema for Shipper</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Shipper</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Shipper_ID</td>
</tr>
<tr class="even">
<td style="text-align: left;">Shipper_Name</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Service</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fixed Price</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cost_per_mile</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>order_details_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Order Details</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"order_id"</span>, <span class="st">"product_id"</span>, <span class="st">"buyer_id"</span>, <span class="st">"supplier_id"</span>, <span class="st">"order_dates"</span>, <span class="st">"shipper_id"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(order_details_table, <span class="at">caption =</span> <span class="st">"Logical Schema for Order Details"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Logical Schema for Order Details</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Order.Details</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">order_id</td>
</tr>
<tr class="even">
<td style="text-align: left;">product_id</td>
</tr>
<tr class="odd">
<td style="text-align: left;">buyer_id</td>
</tr>
<tr class="even">
<td style="text-align: left;">supplier_id</td>
</tr>
<tr class="odd">
<td style="text-align: left;">order_dates</td>
</tr>
<tr class="even">
<td style="text-align: left;">shipper_id</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>address_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Address</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"address_id"</span>, <span class="st">"house_number"</span>, <span class="st">"house_name"</span>, <span class="st">"street"</span>, <span class="st">"city"</span>, <span class="st">"county"</span>, <span class="st">"post_code"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(address_table, <span class="at">caption =</span> <span class="st">"Logical Schema for Address"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Logical Schema for Address</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Address</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">address_id</td>
</tr>
<tr class="even">
<td style="text-align: left;">house_number</td>
</tr>
<tr class="odd">
<td style="text-align: left;">house_name</td>
</tr>
<tr class="even">
<td style="text-align: left;">street</td>
</tr>
<tr class="odd">
<td style="text-align: left;">city</td>
</tr>
<tr class="even">
<td style="text-align: left;">county</td>
</tr>
<tr class="odd">
<td style="text-align: left;">post_code</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>dimension_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Dimension</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Dimension_ID"</span>, <span class="st">"Length"</span>, <span class="st">"Width"</span>, <span class="st">"Height"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(dimension_table, <span class="at">caption =</span> <span class="st">"Logical Schema for Dimension"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Logical Schema for Dimension</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Dimension</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Dimension_ID</td>
</tr>
<tr class="even">
<td style="text-align: left;">Length</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Width</td>
</tr>
<tr class="even">
<td style="text-align: left;">Height</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="relationship-sets-after-normalisation" class="level3">
<h3 class="anchored" data-anchor-id="relationship-sets-after-normalisation">Relationship Sets after Normalisation</h3>
<p>We’ve mapped out the interactions between entities in our e-commerce database through relationship sets.</p>
<ol type="1">
<li>Buyer and Address (1:1):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\buyer_address(1_1).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Indicating that each buyer has one address, and each address is associated with one buyer.</p>
<ol start="2" type="1">
<li>Buyer and Order Details (1:N):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\buyer_order(1_n).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Indicating a buyer can place multiple orders, with each ‘order detail’ linked to a single buyer.</p>
<ol start="3" type="1">
<li>Buyer and Reviews (1:N):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\buyer_review(1_n).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Meaning a buyer can submit multiple reviews, with each review associated with that buyer.</p>
<ol start="4" type="1">
<li>Order Details and Payment (1:N):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\order_payment(1_n).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Meaning each order detail can involve multiple transactions, with each transaction corresponding to a specific order detail.</p>
<ol start="5" type="1">
<li>Product to Dimension (1:1):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\product_dimension(1_1).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Indicating each product has a unique set of dimensions, with each set of dimensions tied to a single product.</p>
<ol start="6" type="1">
<li>Product to Order Details (1:N):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\product_order(1_n).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Meaning that one product can be present in many order details. Conversely, each order detail is associated with only one product, indicating a specific product is selected for each order.</p>
<ol start="7" type="1">
<li>Product to Promotion (N:1):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\Product_Promotion(n_1).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Indicating that multiple products can be part of the same promotion. Conversely, each promotion can apply to multiple products.</p>
<ol start="8" type="1">
<li>Product to Review (1:N):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\Product_Review(1_n).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Showing that each product can have multiple reviews written about it. Conversely, each review is associated with one product, indicating that customers’ feedback is specific to a particular product</p>
<ol start="9" type="1">
<li>Supplier and Order Details (1:N):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\shipper_order(1_n).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Showing that a single supplier can be connected to multiple order details, with each order detail relating to only one supplier.</p>
<ol start="10" type="1">
<li>Supplier and Address (1:1):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\supplier_address(1_1).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Each supplier is tied to a single address, and each address is linked to a specific supplier</p>
<ol start="11" type="1">
<li>Supplier and Order Details (1:N):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\supplier_order(1_n).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Showing that a single supplier can be connected to multiple order details, with each order detail relating to only one supplier.</p>
<ol start="12" type="1">
<li>Supplier and Product (1:N):</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\relationship_set\supplier_product(1_n).png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Indicating that a supplier sells many products. One supplier can be linked to multiple ‘product’ entities.</p>
</section>
<section id="physical-schema-of-the-database" class="level3">
<h3 class="anchored" data-anchor-id="physical-schema-of-the-database">Physical Schema of the Database</h3>
<p>We’re ready to convert the E-R diagram into a normalised SQL database schema (3NF), complete with defined tables, data types, constraints, and key relationships.</p>
<section id="table-description-for-promotions" class="level4">
<h4 class="anchored" data-anchor-id="table-description-for-promotions">Table Description for Promotions</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the table data</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>promotion_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field Name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"promotion_id"</span>, <span class="st">"promotion_type"</span>, <span class="st">"start_date"</span>, <span class="st">"end_date"</span>, <span class="st">"status"</span>),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(50)"</span>, <span class="st">"DATE"</span>, <span class="st">"DATE"</span>, <span class="st">"VARCHAR(50)"</span>),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Constraints</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"PRIMARY KEY"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Description</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Unique identifier for promotion"</span>, <span class="st">"Type of promotion"</span>, <span class="st">"Promotion start date"</span>, <span class="st">"Promotion end date"</span>, <span class="st">"Status of the promotion"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the table</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(promotion_table, <span class="at">caption =</span> <span class="st">"Table Description for Promotions"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table Description for Promotions</caption>
<colgroup>
<col style="width: 21%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Field.Name</th>
<th style="text-align: left;">Data.Type</th>
<th style="text-align: left;">Constraints</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">promotion_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">PRIMARY KEY</td>
<td style="text-align: left;">Unique identifier for promotion</td>
</tr>
<tr class="even">
<td style="text-align: left;">promotion_type</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Type of promotion</td>
</tr>
<tr class="odd">
<td style="text-align: left;">start_date</td>
<td style="text-align: left;">DATE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Promotion start date</td>
</tr>
<tr class="even">
<td style="text-align: left;">end_date</td>
<td style="text-align: left;">DATE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Promotion end date</td>
</tr>
<tr class="odd">
<td style="text-align: left;">status</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Status of the promotion</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>This automatic indexing on primary keys as the first column allows for quick searches, insertions, and ensures uniqueness, enhancing query performance significantly. Indexing foreign key columns as the second key is crucial for enhancing the performance of join operations between tables</p>
<p>For other columns without explicit indexing, queries that search or filter by these fields may perform a full table scan, which is slower.</p>
</section>
<section id="table-description-for-shippers" class="level4">
<h4 class="anchored" data-anchor-id="table-description-for-shippers">Table Description for Shippers</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the table data for the shipper table</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>shipper_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field Name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"shipper_id"</span>, <span class="st">"shipper_name"</span>, <span class="st">"service"</span>, <span class="st">"fixed_price"</span>, <span class="st">"cost_per_mile"</span>),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(100)"</span>, <span class="st">"DOUBLE"</span>, <span class="st">"DOUBLE"</span>),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Constraints</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"PRIMARY KEY"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>),</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Description</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Unique identifier for the shipper"</span>, </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Name of the shipper"</span>, </span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Type of service offered by the shipper"</span>, </span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Fixed price for the service"</span>, </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Cost per mile for the service"</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the table</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(shipper_table, <span class="at">caption =</span> <span class="st">"Table Description for Shippers"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table Description for Shippers</caption>
<colgroup>
<col style="width: 17%">
<col style="width: 16%">
<col style="width: 15%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Field.Name</th>
<th style="text-align: left;">Data.Type</th>
<th style="text-align: left;">Constraints</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">shipper_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">PRIMARY KEY</td>
<td style="text-align: left;">Unique identifier for the shipper</td>
</tr>
<tr class="even">
<td style="text-align: left;">shipper_name</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Name of the shipper</td>
</tr>
<tr class="odd">
<td style="text-align: left;">service</td>
<td style="text-align: left;">VARCHAR(100)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Type of service offered by the shipper</td>
</tr>
<tr class="even">
<td style="text-align: left;">fixed_price</td>
<td style="text-align: left;">DOUBLE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Fixed price for the service</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cost_per_mile</td>
<td style="text-align: left;">DOUBLE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Cost per mile for the service</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="table-description-for-address" class="level4">
<h4 class="anchored" data-anchor-id="table-description-for-address">Table Description for Address</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>address_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field Name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"address_id"</span>, <span class="st">"house_number"</span>, <span class="st">"house_name"</span>, <span class="st">"street"</span>, <span class="st">"city"</span>, <span class="st">"county"</span>, <span class="st">"post_code"</span>),</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"VARCHAR(50)"</span>, <span class="st">"INT"</span>, <span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(20)"</span>, <span class="st">"VARCHAR(20)"</span>, <span class="st">"VARCHAR(10)"</span>),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Constraints</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"PRIMARY KEY"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">"NOT NULL"</span>, <span class="st">""</span>, <span class="st">""</span>),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Description</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Unique identifier for the address"</span>, </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Number of the house"</span>, </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Name of the house if applicable"</span>, </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Street name"</span>, </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"City name"</span>, </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"County name"</span>, </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Postal code of the address"</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the table</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(address_table, <span class="at">caption =</span> <span class="st">"Table Description for Addresses"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table Description for Addresses</caption>
<colgroup>
<col style="width: 18%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 47%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Field.Name</th>
<th style="text-align: left;">Data.Type</th>
<th style="text-align: left;">Constraints</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">address_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">PRIMARY KEY</td>
<td style="text-align: left;">Unique identifier for the address</td>
</tr>
<tr class="even">
<td style="text-align: left;">house_number</td>
<td style="text-align: left;">INT</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Number of the house</td>
</tr>
<tr class="odd">
<td style="text-align: left;">house_name</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Name of the house if applicable</td>
</tr>
<tr class="even">
<td style="text-align: left;">street</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Street name</td>
</tr>
<tr class="odd">
<td style="text-align: left;">city</td>
<td style="text-align: left;">VARCHAR(20)</td>
<td style="text-align: left;">NOT NULL</td>
<td style="text-align: left;">City name</td>
</tr>
<tr class="even">
<td style="text-align: left;">county</td>
<td style="text-align: left;">VARCHAR(20)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">County name</td>
</tr>
<tr class="odd">
<td style="text-align: left;">post_code</td>
<td style="text-align: left;">VARCHAR(10)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Postal code of the address</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="table-description-for-dimensions" class="level4">
<h4 class="anchored" data-anchor-id="table-description-for-dimensions">Table Description for Dimensions</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the table data for the dimension table</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>dimension_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field Name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"dimension_id"</span>, <span class="st">"length"</span>, <span class="st">"width"</span>, <span class="st">"height"</span>),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"VARCHAR(50)"</span>, <span class="st">"DOUBLE"</span>, <span class="st">"DOUBLE"</span>, <span class="st">"DOUBLE"</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Constraints</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"PRIMARY KEY"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Description</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Unique identifier for the dimension record"</span>, </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Length measurement"</span>, </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Width measurement"</span>, </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Height measurement"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the table</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(dimension_table, <span class="at">caption =</span> <span class="st">"Table Description for Dimensions"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table Description for Dimensions</caption>
<colgroup>
<col style="width: 16%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 53%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Field.Name</th>
<th style="text-align: left;">Data.Type</th>
<th style="text-align: left;">Constraints</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">dimension_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">PRIMARY KEY</td>
<td style="text-align: left;">Unique identifier for the dimension record</td>
</tr>
<tr class="even">
<td style="text-align: left;">length</td>
<td style="text-align: left;">DOUBLE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Length measurement</td>
</tr>
<tr class="odd">
<td style="text-align: left;">width</td>
<td style="text-align: left;">DOUBLE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Width measurement</td>
</tr>
<tr class="even">
<td style="text-align: left;">height</td>
<td style="text-align: left;">DOUBLE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Height measurement</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="table-description-for-buyers" class="level4">
<h4 class="anchored" data-anchor-id="table-description-for-buyers">Table Description for Buyers</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>buyer_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field Name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"buyer_id"</span>, <span class="st">"first_name"</span>, <span class="st">"last_name"</span>, <span class="st">"date_of_birth"</span>, <span class="st">"address_id"</span>),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(250)"</span>, <span class="st">"VARCHAR(250)"</span>, <span class="st">"DATE"</span>, <span class="st">"VARCHAR(50)"</span>),</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Constraints</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"PRIMARY KEY"</span>, <span class="st">"NOT NULL"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">"NOT NULL, FOREIGN KEY references address(address_id)"</span>),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Description</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Unique identifier for the buyer"</span>, </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"First name of the buyer. Mandatory field."</span>, </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Last name of the buyer"</span>, </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Date of birth of the buyer"</span>, </span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Reference to the buyer's address, must exist in the `address` table. This field is mandatory and establishes a foreign key relationship with the `address` table."</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the table</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(buyer_table, <span class="at">caption =</span> <span class="st">"Table Description for Buyers"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table Description for Buyers</caption>
<colgroup>
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 21%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Field.Name</th>
<th style="text-align: left;">Data.Type</th>
<th style="text-align: left;">Constraints</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">buyer_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">PRIMARY KEY</td>
<td style="text-align: left;">Unique identifier for the buyer</td>
</tr>
<tr class="even">
<td style="text-align: left;">first_name</td>
<td style="text-align: left;">VARCHAR(250)</td>
<td style="text-align: left;">NOT NULL</td>
<td style="text-align: left;">First name of the buyer. Mandatory field.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">last_name</td>
<td style="text-align: left;">VARCHAR(250)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Last name of the buyer</td>
</tr>
<tr class="even">
<td style="text-align: left;">date_of_birth</td>
<td style="text-align: left;">DATE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Date of birth of the buyer</td>
</tr>
<tr class="odd">
<td style="text-align: left;">address_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references address(address_id)</td>
<td style="text-align: left;">Reference to the buyer’s address, must exist in the <code>address</code> table. This field is mandatory and establishes a foreign key relationship with the <code>address</code> table.</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="table-description-for-suppliers" class="level4">
<h4 class="anchored" data-anchor-id="table-description-for-suppliers">Table Description for Suppliers</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the knitr package for kable()</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>supplier_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field Name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"supplier_id"</span>, <span class="st">"supplier_type"</span>, <span class="st">"contract_type"</span>, <span class="st">"number_of_year_of_association"</span>, <span class="st">"supplier_name"</span>, <span class="st">"address_id"</span>),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(250)"</span>, <span class="st">"VARCHAR(250)"</span>, <span class="st">"INT"</span>, <span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(50)"</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Constraints</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"PRIMARY KEY"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">"NOT NULL, FOREIGN KEY references address(address_id)"</span>),</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Description</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Unique identifier for the supplier"</span>, </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Type of supplier (e.g., goods, services)"</span>, </span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Type of contract with the supplier"</span>, </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Number of years the supplier has been associated with"</span>, </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Name of the supplier"</span>, </span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Reference to the supplier's address, must exist in the `address` table. This field is mandatory and establishes a foreign key relationship with the `address` table."</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the table</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(supplier_table, <span class="at">caption =</span> <span class="st">"Table Description for Suppliers"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table Description for Suppliers</caption>
<colgroup>
<col style="width: 11%">
<col style="width: 4%">
<col style="width: 20%">
<col style="width: 63%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Field.Name</th>
<th style="text-align: left;">Data.Type</th>
<th style="text-align: left;">Constraints</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">supplier_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">PRIMARY KEY</td>
<td style="text-align: left;">Unique identifier for the supplier</td>
</tr>
<tr class="even">
<td style="text-align: left;">supplier_type</td>
<td style="text-align: left;">VARCHAR(250)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Type of supplier (e.g., goods, services)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">contract_type</td>
<td style="text-align: left;">VARCHAR(250)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Type of contract with the supplier</td>
</tr>
<tr class="even">
<td style="text-align: left;">number_of_year_of_association</td>
<td style="text-align: left;">INT</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Number of years the supplier has been associated with</td>
</tr>
<tr class="odd">
<td style="text-align: left;">supplier_name</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Name of the supplier</td>
</tr>
<tr class="even">
<td style="text-align: left;">address_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references address(address_id)</td>
<td style="text-align: left;">Reference to the supplier’s address, must exist in the <code>address</code> table. This field is mandatory and establishes a foreign key relationship with the <code>address</code> table.</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="table-description-for-products" class="level4">
<h4 class="anchored" data-anchor-id="table-description-for-products">Table Description for Products</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>product_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field Name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"product_id"</span>, <span class="st">"product_name"</span>, <span class="st">"product_description"</span>, <span class="st">"weight"</span>, <span class="st">"price"</span>, <span class="st">"promotion_id"</span>, <span class="st">"supplier_id"</span>, <span class="st">"dimension_id"</span>),</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(250)"</span>, <span class="st">"VARCHAR(250)"</span>, <span class="st">"DOUBLE"</span>, <span class="st">"DOUBLE"</span>, <span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(50)"</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Constraints</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"PRIMARY KEY"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">"NOT NULL, FOREIGN KEY references promotion(promotion_id)"</span>, <span class="st">"NOT NULL, FOREIGN KEY references supplier(supplier_id)"</span>, <span class="st">"NOT NULL, FOREIGN KEY references dimension(dimension_id)"</span>),</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Description</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Unique identifier for the product"</span>, </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Name of the product"</span>, </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Description of the product"</span>, </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Weight of the product"</span>, </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Price of the product"</span>, </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Associated promotion ID, linking to the promotion table"</span>, </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Associated supplier ID, linking to the supplier table"</span>, </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Associated dimension ID, linking to the dimension table"</span>)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(product_table, <span class="at">caption =</span> <span class="st">"Table Description for Products"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table Description for Products</caption>
<colgroup>
<col style="width: 13%">
<col style="width: 8%">
<col style="width: 39%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Field.Name</th>
<th style="text-align: left;">Data.Type</th>
<th style="text-align: left;">Constraints</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">product_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">PRIMARY KEY</td>
<td style="text-align: left;">Unique identifier for the product</td>
</tr>
<tr class="even">
<td style="text-align: left;">product_name</td>
<td style="text-align: left;">VARCHAR(250)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Name of the product</td>
</tr>
<tr class="odd">
<td style="text-align: left;">product_description</td>
<td style="text-align: left;">VARCHAR(250)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Description of the product</td>
</tr>
<tr class="even">
<td style="text-align: left;">weight</td>
<td style="text-align: left;">DOUBLE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Weight of the product</td>
</tr>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: left;">DOUBLE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Price of the product</td>
</tr>
<tr class="even">
<td style="text-align: left;">promotion_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references promotion(promotion_id)</td>
<td style="text-align: left;">Associated promotion ID, linking to the promotion table</td>
</tr>
<tr class="odd">
<td style="text-align: left;">supplier_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references supplier(supplier_id)</td>
<td style="text-align: left;">Associated supplier ID, linking to the supplier table</td>
</tr>
<tr class="even">
<td style="text-align: left;">dimension_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references dimension(dimension_id)</td>
<td style="text-align: left;">Associated dimension ID, linking to the dimension table</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="table-description-for-reviews" class="level4">
<h4 class="anchored" data-anchor-id="table-description-for-reviews">Table Description for Reviews</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>review_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field Name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"review_id"</span>, <span class="st">"buyer_id"</span>, <span class="st">"product_id"</span>, <span class="st">"review_score"</span>, <span class="st">"review_description"</span>),</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(250)"</span>, <span class="st">"VARCHAR(250)"</span>, <span class="st">"DOUBLE"</span>, <span class="st">"VARCHAR(250)"</span>),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Constraints</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"PRIMARY KEY"</span>, <span class="st">"NOT NULL, FOREIGN KEY references buyer(buyer_id)"</span>, <span class="st">"NOT NULL, FOREIGN KEY references product(product_id)"</span>, <span class="st">""</span>, <span class="st">""</span>),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Description</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Unique identifier for the review"</span>, </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Associated buyer ID, linking to the buyer table"</span>, </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Associated product ID, linking to the product table"</span>, </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Numerical score of the review"</span>, </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Textual description of the review"</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(review_table, <span class="at">caption =</span> <span class="st">"Table Description for Reviews"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table Description for Reviews</caption>
<colgroup>
<col style="width: 13%">
<col style="width: 9%">
<col style="width: 38%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Field.Name</th>
<th style="text-align: left;">Data.Type</th>
<th style="text-align: left;">Constraints</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">review_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">PRIMARY KEY</td>
<td style="text-align: left;">Unique identifier for the review</td>
</tr>
<tr class="even">
<td style="text-align: left;">buyer_id</td>
<td style="text-align: left;">VARCHAR(250)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references buyer(buyer_id)</td>
<td style="text-align: left;">Associated buyer ID, linking to the buyer table</td>
</tr>
<tr class="odd">
<td style="text-align: left;">product_id</td>
<td style="text-align: left;">VARCHAR(250)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references product(product_id)</td>
<td style="text-align: left;">Associated product ID, linking to the product table</td>
</tr>
<tr class="even">
<td style="text-align: left;">review_score</td>
<td style="text-align: left;">DOUBLE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Numerical score of the review</td>
</tr>
<tr class="odd">
<td style="text-align: left;">review_description</td>
<td style="text-align: left;">VARCHAR(250)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Textual description of the review</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="table-description-for-order-details" class="level4">
<h4 class="anchored" data-anchor-id="table-description-for-order-details">Table Description for Order Details</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the table data for the order_details table, including foreign key details within the table</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>order_details_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field Name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"order_id"</span>, <span class="st">"product_id"</span>, <span class="st">"buyer_id"</span>, <span class="st">"supplier_id"</span>, <span class="st">"order_dates"</span>, <span class="st">"shipper_id"</span>),</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(50)"</span>, <span class="st">"DATE"</span>, <span class="st">"VARCHAR(50)"</span>),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Constraints</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"PRIMARY KEY"</span>, <span class="st">"NOT NULL, FOREIGN KEY references product(product_id)"</span>, <span class="st">"NOT NULL, FOREIGN KEY references buyer(buyer_id)"</span>, <span class="st">"NOT NULL, FOREIGN KEY references supplier(supplier_id)"</span>, <span class="st">""</span>, <span class="st">"NOT NULL, FOREIGN KEY references shipper(shipper_id)"</span>),</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Description</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Unique identifier for the order"</span>, </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Associated product ID, linking to the product table"</span>, </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Associated buyer ID, linking to the buyer table"</span>, </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Associated supplier ID, linking to the supplier table"</span>, </span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Date of the order"</span>, </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Associated shipper ID, linking to the shipper table"</span>)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(order_details_table, <span class="at">caption =</span> <span class="st">"Table Description for Order Details"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table Description for Order Details</caption>
<colgroup>
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 41%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Field.Name</th>
<th style="text-align: left;">Data.Type</th>
<th style="text-align: left;">Constraints</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">order_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">PRIMARY KEY</td>
<td style="text-align: left;">Unique identifier for the order</td>
</tr>
<tr class="even">
<td style="text-align: left;">product_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references product(product_id)</td>
<td style="text-align: left;">Associated product ID, linking to the product table</td>
</tr>
<tr class="odd">
<td style="text-align: left;">buyer_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references buyer(buyer_id)</td>
<td style="text-align: left;">Associated buyer ID, linking to the buyer table</td>
</tr>
<tr class="even">
<td style="text-align: left;">supplier_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references supplier(supplier_id)</td>
<td style="text-align: left;">Associated supplier ID, linking to the supplier table</td>
</tr>
<tr class="odd">
<td style="text-align: left;">order_dates</td>
<td style="text-align: left;">DATE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Date of the order</td>
</tr>
<tr class="even">
<td style="text-align: left;">shipper_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references shipper(shipper_id)</td>
<td style="text-align: left;">Associated shipper ID, linking to the shipper table</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="table-description-for-payments" class="level4">
<h4 class="anchored" data-anchor-id="table-description-for-payments">Table Description for Payments</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>payment_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Field Name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"payment_id"</span>, <span class="st">"payment_type"</span>, <span class="st">"payment_amount"</span>, <span class="st">"installment_number"</span>, <span class="st">"order_id"</span>),</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Data Type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"VARCHAR(50)"</span>, <span class="st">"VARCHAR(250)"</span>, <span class="st">"DOUBLE"</span>, <span class="st">"INT"</span>, <span class="st">"VARCHAR(50)"</span>),</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Constraints</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"PRIMARY KEY"</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">"NOT NULL, FOREIGN KEY references order_details(order_id)"</span>),</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Description</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Unique identifier for the payment"</span>, </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Type of payment (e.g., credit card, PayPal)"</span>, </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Total amount of the payment"</span>, </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"If applicable, the number of the installment"</span>, </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Associated order ID, linking to the order_details table"</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(payment_table, <span class="at">caption =</span> <span class="st">"Table Description for Payments"</span>, <span class="at">align =</span> <span class="st">'l'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table Description for Payments</caption>
<colgroup>
<col style="width: 13%">
<col style="width: 8%">
<col style="width: 39%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Field.Name</th>
<th style="text-align: left;">Data.Type</th>
<th style="text-align: left;">Constraints</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">payment_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">PRIMARY KEY</td>
<td style="text-align: left;">Unique identifier for the payment</td>
</tr>
<tr class="even">
<td style="text-align: left;">payment_type</td>
<td style="text-align: left;">VARCHAR(250)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Type of payment (e.g., credit card, PayPal)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">payment_amount</td>
<td style="text-align: left;">DOUBLE</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Total amount of the payment</td>
</tr>
<tr class="even">
<td style="text-align: left;">installment_number</td>
<td style="text-align: left;">INT</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">If applicable, the number of the installment</td>
</tr>
<tr class="odd">
<td style="text-align: left;">order_id</td>
<td style="text-align: left;">VARCHAR(50)</td>
<td style="text-align: left;">NOT NULL, FOREIGN KEY references order_details(order_id)</td>
<td style="text-align: left;">Associated order ID, linking to the order_details table</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="data-generation-and-management" class="level1">
<h1>2: Data Generation and Management</h1>
<section id="synthetic-data-generation" class="level2">
<h2 class="anchored" data-anchor-id="synthetic-data-generation">2.1: Synthetic Data Generation</h2>
<p>We synthesised data with R, Mockaroo, and Excel to simulate a dataset that closely mimics real-world scenarios.</p>
<ul>
<li><p>Mockaroo provided realistic addresses, emails, and name for several entities</p></li>
<li><p>R scripts modeled data distributions, focusing on product and promotion characteristics, IDs, and date related attributes to capture real variability and complexity</p></li>
<li><p>After importing the data from R and Mockaroo, the foreign keys were combined in Excel, using ‘Randbwteen’ to ensure that the inter-entity relationships are accurately represented.</p></li>
</ul>
<p>We produced four data splits for ingestion validation, incorporating flawed entries in the final two to test our validation protocols.</p>
</section>
<section id="data-import-and-quality-assurance" class="level2">
<h2 class="anchored" data-anchor-id="data-import-and-quality-assurance">2.2: Data Import and Quality Assurance</h2>
<p>The synthetic data, generated in .csv format, is imported. The data undergoes various integrity and validation checks, detailed below:</p>
<section id="data-integrity" class="level3">
<h3 class="anchored" data-anchor-id="data-integrity">Data Integrity:</h3>
<ol type="1">
<li>Primary Key fields:</li>
</ol>
<p>No NA/NULL values are allowed in the primary key attributes of any entities. The primary key ID must follow the format specified in Section 2.1.</p>
<ol start="2" type="1">
<li>Date fields:</li>
</ol>
<p>No future dates should appear in any date field. This includes the Date of Birth of buyers and Order dates.</p>
<ol start="3" type="1">
<li>Product entity:</li>
</ol>
<p>The weight of the product must not exceed 100 pounds</p>
<ol start="4" type="1">
<li>Promotion entity:</li>
</ol>
<p>The end date of a promotion must be later than its start date.</p>
<ol start="5" type="1">
<li>Review entity:</li>
</ol>
<p>Review scores must not exceed 10.</p>
<ol start="6" type="1">
<li>Address entity:</li>
</ol>
<p>Length of postcode should be only 5 or 6 characters in accordance with postcode of UK residents.</p>
<ol start="7" type="1">
<li>Dimension entity:</li>
</ol>
<p>The Length, Width, and Height of a product must not exceed 150 cm.</p>
<ol start="8" type="1">
<li>Non-Negativity:</li>
</ol>
<p>All numeric attributes of float or integer type must not have negative values. This includes Weight, Price, Years of Association, Review Score, Payment Value, Installment Number, Fixed Price, Cost per Mile, Length, Width, Height, and House Number.</p>
</section>
<section id="referential-integrity" class="level3">
<h3 class="anchored" data-anchor-id="referential-integrity">Referential Integrity :</h3>
<p>Referential integrity checks are conducted for all relationships discussed in Section 1.1. For example, in the Product to Review (1:N) relationship, the Review entity’s Product_ID, serving as a foreign key, indicates a specific product’s review in the E-commerce system. Referential integrity ensures no review is entered for a product not present in the system. To validate, unique Product_ID keys from the Review table are compared with those from the Product table; the difference should be NULL or 0. A non-zero value indicates the presence of a Product_ID in the Review table that doesn’t match any in the Product table, violating referential integrity. Such records are removed from the Review table.</p>
</section>
</section>
</section>
<section id="data-pipeline-generation" class="level1">
<h1>3: Data Pipeline Generation</h1>
<section id="github-repository-and-workflow-setup" class="level2">
<h2 class="anchored" data-anchor-id="github-repository-and-workflow-setup">3.1: GitHub Repository and Workflow Setup</h2>
<p><img src="Figures\Screenshots\GitHub_related\GitHub_Repo.png" class="img-fluid quarto-figure quarto-figure-center"> To allow group members to collaborate on the project simultaneously we have adopted the use of a remote repository on GitHub. This online platform serves as a centralised storage for our project’s history, enabling efficient management and version control.</p>
<p><img src="Figures\Screenshots\GitHub_related\repo_url.png" class="img-fluid quarto-figure quarto-figure-center"> Integrating our project with Posit Cloud, we used the HTTPS clone URL from GitHub to establish a connection between our local and remote repositories directly within Posit Cloud. This integration streamlined our workflow by providing a centralised platform for development, enabling efficient access and management of the project’s codebase.</p>
<p><img src="Figures\Screenshots\GitHub_related\commit_push_pull.png" class="img-fluid quarto-figure quarto-figure-center"> To streamline our project management and enhance version control among team members, we utilised commit, push, and pull operations effectively. By committing changes before pushing, we enabled team members to save the state of our project at specific points following any modifications made in our local repositories. This process not only enables detailed tracking of who made specific changes and why, but also ensures that each contribution is reviewed before being shared with the team.</p>
<p>Pushing these commits to the remote repository then publishes each member’s contributions, ensuring everyone is working on the most updated version. Regularly pulling updates from the remote repository is crucial for keeping our local copies current, reducing the likelihood of merge conflicts between the local and remote version after changes are made.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\GitHub_related\working_log.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="github-actions-for-continuous-integration" class="level2">
<h2 class="anchored" data-anchor-id="github-actions-for-continuous-integration">3.2: GitHub Actions for Continuous Integration</h2>
<p>GitHub Workflows automate processes within a repository using YAML files. We started by creating a <code>.github/workflows/</code> directory to house our workflow files. Then, we added a file named “ETL workflow for group24” within this directory to outline our specific automated tasks, focusing on the Extract, Transform, Load (ETL) processes crucial to our project’s data handling needs, enhancing efficiency.</p>
<p>The workflow of our project is shown in the screenshot below</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\GitHub_related\workflow.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>In this phase of configuring our GitHub Workflow, we set the trigger condition to activate on every push event to the repository. This configuration ensures that any time changes are pushed or a pull request is merged, the workflow initiates automatically. Following a thorough review of the code to confirm its accuracy and completeness, we commit and push these updates to our GitHub repository.</p>
<p><img src="Figures\Screenshots\GitHub_related\workflow_yaml_file.png" class="img-fluid quarto-figure quarto-figure-center"> In the workflow of our project, we automate the data quality check, data ingestion into the database, and basic data analysis in the R script “Data_Validation_Import_Script.R”, and the advanced data analysis in the R script “Advanced_Data_Analysis.R”. Everytime new data files are added to the data folder in the local repository, the push request triggers actions including the validation of new data, updating the database with the cleaned new data, and automatically saving the visualizations produced by the advanced data analysis into the folder “Advanced_Data_Analysis”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures\Screenshots\GitHub_related\bad_data_detected.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>As shown in the screenshot above, there are some data did not pass the validation checks and are excluded from ingestions.</p>
<p><img src="Figures\Screenshots\GitHub_related\Actions.png" class="img-fluid quarto-figure quarto-figure-center"> We use a GitHub remote repository to enable simultaneous team collaboration, providing a centralised project history for effective management and version control.</p>
</section>
</section>
<section id="advanced-data-analysis-and-reporting-with-quarto-in-r" class="level1">
<h1>4: Advanced Data Analysis and Reporting with Quarto in R</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Access Existing Database</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>db_conn <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">"Database/ecommerce.db"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>** Top 5 Products with Highest Sales:**</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>top_5_products_sales <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn, <span class="st">"SELECT</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="st">    od.product_id,</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_name,</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(SUM(p.price),2) AS total_sales</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="st">FROM</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="st">    order_details od</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="st">    product p ON od.product_id = p.product_id</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="st">    od.product_id,</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_name</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="st">    total_sales DESC</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="st">LIMIT</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="st">    5;</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_5_products_sales, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(product_name, total_sales), <span class="at">y =</span> total_sales)) <span class="sc">+</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="fl">0.8</span>) <span class="sc">+</span> </span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> total_sales), <span class="at">vjust =</span> <span class="fl">0.2</span>, <span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.1</span>, <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>),<span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Product Name"</span>, <span class="at">y =</span> <span class="st">"Total Sales"</span>) <span class="sc">+</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Top 5 Products by Sales"</span>) <span class="sc">+</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">'none'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Group24_report_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This offers insights into customer preferences and product performance. It unveils market trends and successful products, guiding the company to capitalize on these revenue drivers.</p>
<p><strong>Top 5 Cities With Highest Sales:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>cities_highest_sales <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn,<span class="st">"SELECT</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="st">    a.city,</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(SUM(p.price),2) AS total_sales</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="st">FROM</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="st">    order_details od</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="st">    product p ON od.product_id = p.product_id</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="st">    buyer b ON od.buyer_id = b.buyer_id</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="st">    address a ON b.address_id = a.address_id</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="st">    a.city</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="st">    total_sales DESC</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="st">LIMIT</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="st">    5;</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cities_highest_sales, <span class="fu">aes</span>(<span class="at">x =</span> city, <span class="at">y =</span> total_sales)) <span class="sc">+</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> total_sales), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.3</span>, <span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>),<span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"City"</span>, <span class="at">y =</span> <span class="st">"Total Sales"</span>) <span class="sc">+</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"City with Highest Sales"</span>) <span class="sc">+</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">'none'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Group24_report_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Determines where demand is highest, informs targeted marketing and distribution optimisation, and identifies market reach and potential growth areas.</p>
<p><strong>Promotion for Top 5 Products:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>promotion_data <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn, <span class="st">"SELECT * FROM promotion;"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>top_5_products_promotion <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn, <span class="st">"SELECT</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="st">    od.product_id,</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_name,</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="st">    p.promotion_id,</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="st">    pm.status,</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(SUM(p.price),2) AS total_sales</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="st">FROM</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="st">    order_details od</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="st">    product p ON od.product_id = p.product_id</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN </span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="st">    promotion pm ON p.promotion_id = pm.promotion_id</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="st">    od.product_id,</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_name</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="st">    total_sales DESC</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="st">LIMIT</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="st">    5;</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_5_products_promotion, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(product_name, total_sales), <span class="at">y =</span> total_sales, <span class="at">fill =</span> status)) <span class="sc">+</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="fl">0.8</span>) <span class="sc">+</span> </span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Top 5 Products by Sales"</span>, <span class="at">x =</span> <span class="st">"Product Name"</span>, <span class="at">y =</span> <span class="st">"Total Sales"</span>) <span class="sc">+</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_fill_viridis_d() +</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Promotion Status"</span>) <span class="sc">+</span> </span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Promotion Status of Top 5 products with respect to Sales"</span>) <span class="sc">+</span></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">'right'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Group24_report_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Assesses marketing success for top products and guides allocation of resources such as time and money for optimal sales results.</p>
<p><strong>Number of Days Promotions are Running:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>no_of_days_promotions <span class="ot">&lt;-</span> <span class="fu">mutate</span>(promotion_data,</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">start_date =</span> <span class="fu">as.Date</span>(start_date,<span class="at">format=</span> <span class="st">"%Y-%m-%d"</span>, <span class="at">origin=</span><span class="st">"1970-01-01"</span>),</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">end_date =</span> <span class="fu">as.Date</span>(end_date,<span class="at">format=</span> <span class="st">"%Y-%m-%d"</span>, <span class="at">origin=</span><span class="st">"1970-01-01"</span>),</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">num_days_promotion =</span> end_date <span class="sc">-</span> start_date) <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(status <span class="sc">==</span> <span class="st">'active'</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>no_of_days_promotions <span class="ot">&lt;-</span> no_of_days_promotions <span class="sc">%&gt;%</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(num_days_promotion))</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>no_of_days_promotions <span class="ot">&lt;-</span> no_of_days_promotions <span class="sc">%&gt;%</span> </span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(num_days_promotion) <span class="sc">%&gt;%</span> </span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">num_promotions =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>((num_days_promotion))</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(no_of_days_promotions, <span class="fu">aes</span>(<span class="at">x =</span> num_days_promotion, <span class="at">y =</span> num_promotions)) <span class="sc">+</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">colors=</span><span class="st">''</span>) <span class="sc">+</span> </span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Number of days promotion is running"</span>, <span class="at">y =</span> <span class="st">"Number of promotions"</span>) <span class="sc">+</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_fill_viridis_d() +</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of Promotions running across each different duration"</span>) <span class="sc">+</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">'none'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geom_col(colors = ""): Ignoring unknown parameters: `colours`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Don't know how to automatically pick scale for object of type &lt;difftime&gt;.
Defaulting to continuous.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Group24_report_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Gauges sales impact and customer response, aiding in fine-tuning promotion timing for peak efficacy.</p>
<p><strong>Sales Trends:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>order_details <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn,<span class="st">"SELECT * FROM order_details"</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>order_details <span class="ot">&lt;-</span> <span class="fu">mutate</span>(order_details,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">order_dates =</span> <span class="fu">as.Date</span>(order_dates,<span class="at">format=</span> <span class="st">"%Y-%m-%d"</span>, <span class="at">origin=</span><span class="st">"1970-01-01"</span>))</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>product <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn,<span class="st">"SELECT * FROM product"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Viewing the results</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>sales_trend_data <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(order_details, product, </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"product_id"</span>)) </span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>sales_trend_data <span class="ot">&lt;-</span> sales_trend_data <span class="sc">%&gt;%</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(order_dates) <span class="sc">%&gt;%</span> </span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_sales =</span> <span class="fu">sum</span>(price))</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sales_trend_data, <span class="fu">aes</span>(<span class="at">x =</span> order_dates, <span class="at">y =</span> total_sales)) <span class="sc">+</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Date"</span>, <span class="at">y =</span> <span class="st">"Sales"</span>) <span class="sc">+</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_fill_viridis_d() +</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Sales Trend"</span>) <span class="sc">+</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">'none'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_line()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Group24_report_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Detects patterns, peak sales periods and seasonal influences to guide inventory management, promotion timings, and strategy.</p>
<p><strong>Products With Highest and Lowest Reviews:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>top_5_products_reviews <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn, <span class="st">"SELECT</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="st">    r.product_id,</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_name,</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(AVG(r.review_score),2) AS avg_review_score</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="st">FROM</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="st">    review r</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="st">    product p ON r.product_id = p.product_id</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="st">    r.product_id,</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_name</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="st">    avg_review_score DESC</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="st">LIMIT</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="st">    5;</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_5_products_reviews, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(product_name, avg_review_score), <span class="at">y =</span> avg_review_score)) <span class="sc">+</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">width=</span><span class="fl">0.8</span>) <span class="sc">+</span> </span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> avg_review_score), <span class="at">vjust =</span> <span class="fl">0.2</span>, <span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.</span>, <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>),<span class="at">size=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Product Name"</span>, <span class="at">y =</span> <span class="st">"Average Review Score"</span>) <span class="sc">+</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_fill_viridis_d() + </span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Top 5 Products by Average Review Score"</span>) <span class="sc">+</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">'none'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Group24_report_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>lowest_5_products_reviews <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn, <span class="st">"SELECT</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_id,</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_name,</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(AVG(r.review_score),2) AS average_review_score</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="st">FROM</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="st">    review r</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="st">    product p ON r.product_id = p.product_id</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_id,</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_name</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="st">    average_review_score ASC</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="st">LIMIT</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="st">    5;</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(lowest_5_products_reviews, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(product_name, <span class="sc">-</span>average_review_score), <span class="at">y =</span> average_review_score)) <span class="sc">+</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> average_review_score), <span class="at">vjust =</span> <span class="fl">0.2</span>, <span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.3</span>, <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>),<span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Product"</span>, <span class="at">y =</span> <span class="st">"Average Review Score"</span>) <span class="sc">+</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Products with Lowest Review Scores"</span>) <span class="sc">+</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">'none'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Group24_report_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Examining top and lowest reviewed products highlights customer tastes and improvement areas, shaping product refinement and boosting satisfaction.</p>
<p><strong>Customer Lifetime Value (CLV):</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>customer_lifetime_value <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn, <span class="st">"SELECT</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="st">    buyer_id,</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(SUM(p.price),2) AS total_spent,</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="st">    COUNT(distinct order_id) AS number_of_orders,</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND((SUM(p.price) / COUNT(distinct order_id)),2) AS average_order_value</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="st">FROM</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="st">    order_details od</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="st">    product p ON od.product_id = p.product_id</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="st">    buyer_id</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="st">    total_spent DESC;</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>top_n_buyers <span class="ot">&lt;-</span> <span class="fu">head</span>(customer_lifetime_value, <span class="dv">10</span>) </span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Change 10 to the desired number of top buyers to display</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_n_buyers, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(buyer_id, <span class="sc">-</span>total_spent), <span class="at">y =</span> total_spent)) <span class="sc">+</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Buyer ID"</span>, <span class="at">y =</span> <span class="st">"Total Spent"</span>) <span class="sc">+</span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Top Buyers by Customer Lifetime Value"</span>) <span class="sc">+</span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">'none'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Group24_report_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Pinpoints high-value customers for targeted marketing and engagement strategies, and loyalty initiatives, fostering relationships and maximising profits.</p>
<p><strong>Effectiveness of Promotions:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>effective_promotions <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn, <span class="st">"SELECT</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="st">    promo.promotion_type,</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="st">    COUNT(*) AS number_of_sales,</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(SUM(prod.price),2) AS total_revenue</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="st">FROM</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="st">    order_details od</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="st">    product prod ON od.product_id = prod.product_id</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="st">    promotion promo ON prod.promotion_id = promo.promotion_id</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="st">WHERE</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="st">    promo.status = 'active'</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="st">    promo.promotion_type</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="st">    total_revenue DESC;</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(effective_promotions, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(promotion_type, <span class="sc">-</span>total_revenue), <span class="at">y =</span> total_revenue)) <span class="sc">+</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width=</span><span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> total_revenue), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.2</span>, <span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>),<span class="at">size=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Promotion Type"</span>, <span class="at">y =</span> <span class="st">"Total Revenue"</span>) <span class="sc">+</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Effectiveness of Promotions"</span>) <span class="sc">+</span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">'none'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Group24_report_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Improves campaign initiatives and resource investment by analysing sales and revenue, ensuring optimal return on investment.</p>
<p><strong>Most Reviewed Products:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>most_reviewed_products <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(db_conn,<span class="st">"SELECT</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_name,</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="st">    COUNT(*) AS review_count,</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(AVG(r.review_score),2) AS avg_review_score</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="st">FROM</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="st">    review r</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="st">    product p ON r.product_id = p.product_id</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="st">    p.product_name</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="st">    review_count DESC</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="st">LIMIT 10;</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(most_reviewed_products, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(product_name, <span class="sc">-</span>review_count), <span class="at">y =</span> review_count)) <span class="sc">+</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width=</span><span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> review_count), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.2</span>, <span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>),<span class="at">size=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Product Name"</span>, <span class="at">y =</span> <span class="st">"Number of Reviews"</span>) <span class="sc">+</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Most Reviewed Products"</span>) <span class="sc">+</span></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">'none'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Group24_report_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Showcases customer interaction and market visibility, with highly reviewed products often having better market presence and credibility, impacting brand reputation and customer trust.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>In summary, this project showcased a technical blueprint for data management and set a standard for future e-commerce databases by highlighting the critical role of structured and data-driven design. It encompassed four key phases—design and normalisation, synthetic data creation, workflow management and in-depth analysis—providing valuable insights for e-commerce systems.</p>
<p>The final set of files can be found here: https://github.com/Qian0309/DM-Group-24</p>
<p>https://github.com/Qian0309/DM-Group-24</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>